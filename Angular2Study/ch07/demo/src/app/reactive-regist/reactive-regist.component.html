<form [formGroup]="formModel" (submit)="onSubmit()">
  <div>用戶名:
    <input type="text" [class.hasError]="formModel.get('username').invalid && formModel.get('username').touched"   formControlName="username"> </div>
  <div [hidden]="formModel.get('username').valid || formModel.get('username').untouched" >
    <div [hidden]="!formModel.hasError('required','username')">
      用戶名是必填項
    </div>
    <div [hidden]="!formModel.hasError('minlength','username')">
      用戶名最小長度是6
    </div>
  </div>

  <div>手機號:
    <input type="text" formControlName="mobile"> </div>
    <div  [hidden]="formModel.get('mobile').valid || formModel.get('mobile').pristine" >
      <div [hidden]="!formModel.hasError('mobile','mobile')">
        請輸入正確的手機號
      </div>
    </div>
    <div [hidden]="!formModel.get('mobile').pending" >
      正在校驗手機的合法性
    </div>
  
  <div formGroupName="passwordsGroup">
    <div>密碼:
      <input type="password" formControlName="password"> </div>
    <div [hidden]="!formModel.hasError('minlength',['passwordsGroup','password'])">
      密碼最小長度是6
    </div>
    <div>確認密碼:
      <input type="password" formControlName="pconfirm"> </div>

    <div [hidden]="!formModel.hasError('equal','passwordsGroup')">
      <!-- 請輸入正確的密碼 -->
      {{this.formModel.getError('equal','passwordsGroup')?.descps}}
    </div>
  </div>

  <button type="submit">註冊</button>
</form>
<div>
  {{formModel.status}}
</div>